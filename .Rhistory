)
draws.95 <-draws_df %>%
gather() %>%
group_by(key) %>%
summarise(
Estimate=mean(value),
min=quantile(value,probs=c(0.025)),
max=quantile(value,probs=c(0.975)),
level="0.95 Level",
)
draw_summary <- rbind(draws.66,draws.95)
fixed_effects <- c(paste0("b_",variables))
fixed_effects <- setNames(fixed_effects,variables) %>% as.list()
fixed_effects_summary <- draw_summary %>% filter(key %in% as.character(fixed_effects))
clean_names <- names(fixed_effects)[match(fixed_effects_summary$key,as.character(fixed_effects))]
fixed_effects_summary$key <- clean_names
clean_names <- names(variables)[match(fixed_effects_summary$key,as.character(variables))]
fixed_effects_summary$key <- clean_names
fixed_effects_summary$key <- factor(fixed_effects_summary$key,
levels=names(variables),
ordered = T)
fixed_plots <- quick_estimates_plot(fixed_effects_summary, title=paste0("Fixed Effects for Model ", model_name), sort=T)
ggsave(filename = paste0(base_path,"/fixed_effects_plots.png"),
plot = fixed_plots,width = 2500,height=3000,units = "px")
}
model_tva <- loadRData("./outputs/31_05_2023/outputs/overall_models/variable_addition_final_fit/tva/tva_6.rda")
model_tva
variables <- list(
# "Education (Pre Primary)"="education_cleanedpre_primary",
"Household Size"="hh_size",
"Education (Primary)"="educationprimary",
"Education (Secondary/Higher)"="educationsecondary_or_higher",
"Livestock TLU"="livestock_tlu",
"Land Cultivated"="land_cultivated",
"Any Off Farm Income"= "off_farm_any",
"Assisted Tillage"="assisted_tillage",
"External Labour"="external_labour",
# "Use Pesticide"="pesticide",
"Have Debts"="debts_have",
# "Received Aid"="aidreceived",
"Use Livestock Inputs"="livestock_inputs_any",
"Irrigate Land"="land_irrigated_any",
"Use Fertiliser"="use_fert",
"Market Orientation"="market_orientation",
"Home Garden"="kitchen_garden",
"Number of Income Sources"="number_income_sources",
"Growing Period"="length_growing_period",
"Minimum Travel Time"="min_travel_time",
"Country HDI"="gdl_country_shdi"
)
fixed_effect_plot(model=model_tva,
model_name="TVA",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/tva/")
model_tva <- loadRData("./outputs/11_09_2023/outputs/overall_models/variable_addition_final_fit/tva/tva_11.rda")
model_tva
variables <- list(
# "Education (Pre Primary)"="education_cleanedpre_primary",
"Household Size"="hh_size",
"Education (Primary)"="educationprimary",
"Education (Secondary/Higher)"="educationsecondary_or_higher",
"Livestock TLU"="livestock_tlu",
"Land Cultivated"="land_cultivated",
"Any Off Farm Income"= "off_farm_any",
"Assisted Tillage"="assisted_tillage",
"External Labour"="external_labour",
# "Use Pesticide"="pesticide",
"Have Debts"="debts_have",
# "Received Aid"="aidreceived",
"Use Livestock Inputs"="livestock_inputs_any",
"Irrigate Land"="land_irrigated_any",
"Use Fertiliser"="use_fert",
"Market Orientation"="market_orientation",
"Home Garden"="kitchen_garden",
"Number of Income Sources"="number_income_sources",
"Growing Period"="length_growing_period",
"Minimum Travel Time"="min_travel_time",
"Country HDI"="gdl_country_shdi"
)
fixed_effect_plot(model=model_tva,
model_name="TVA",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/tva/")
model_tva
as.data.frame(model_tva)
summary(model_tva)
summary(model_tva) %>% as.tibble()
summary(model_tva) %>% as_tibble()
summary(model_tva) %>% as.data.frame()
summary(model_tva)
tva_r2_table
hdds_loo_table
summarise_estimates(model_tva,params_list = variables)
summarise_estimates
draws <- as_draws_array(model_tva)
draws <- as_draws_array(model_tva)
summarise_estimates(draws,params_list = variables)
draws <- as_draws_df(model_tva)
summarise_estimates(draws,params_list = variables)
draws
vars_all <- paste0("b_",as.character(variables))
vars_all <- c(vars_all, as.character(levels_variables))
vars_all
summarise_estimates(draws,params_list = vars_all)
draws <- as_draws_df(model_tva)[vars_all]
vars_all
draws
variables <- list(
# "Education (Pre Primary)"="education_cleanedpre_primary",
"Household Size"="hh_size",
"Education (Primary)"="educationprimary",
"Education (Secondary/Higher)"="educationsecondary_or_higher",
"Livestock TLU"="livestock_tlu",
"Land Cultivated"="land_cultivated",
"Any Off Farm Income"= "off_farm_any",
"Assisted Tillage"="assisted_tillage",
"External Labour"="external_labour",
# "Use Pesticide"="pesticide",
"Have Debts"="debts_have",
# "Received Aid"="aidreceived",
"Use Livestock Inputs"="livestock_inputs_any",
"Irrigate Land"="land_irrigated_any",
"Use Fertiliser"="use_fert",
"Market Orientation"="market_orientation",
"Home Garden"="kitchen_garden",
"Number of Income Sources"="number_income_sources",
"Growing Period"="length_growing_period",
"Minimum Travel Time"="min_travel_time",
"Country HDI"="gdl_country_shdi"
)
levels_variables <- list(
"Country"="sd_iso_country_code__Intercept",
"Village"="sd_iso_country_code:village__Intercept",
"Project"="sd_id_form__Intercept",
"Unexplained"="sigma"
)
model_tva <- loadRData("./outputs/11_09_2023/outputs/overall_models/variable_addition_final_fit/tva/tva_11.rda")
tva_plot <- fixed_effect_plot(model=model_tva,
model_name="TVA",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/tva/")
tva_plot
tva_plot
fixed_effect_plot <- function(model,
model_name,
variables,
base_path){
all_vars <- get_variables(model)
draws_df <- as_draws_df(model)
draws.66 <- draws_df %>%
gather() %>%
group_by(key) %>%
summarise(
Estimate=mean(value),
min=quantile(value,probs=c(0.17)),
max=quantile(value,probs=c(0.83)),
level="0.66 Level",
)
draws.95 <-draws_df %>%
gather() %>%
group_by(key) %>%
summarise(
Estimate=mean(value),
min=quantile(value,probs=c(0.025)),
max=quantile(value,probs=c(0.975)),
level="0.95 Level",
)
draw_summary <- rbind(draws.66,draws.95)
fixed_effects <- c(paste0("b_",variables))
fixed_effects <- setNames(fixed_effects,variables) %>% as.list()
fixed_effects_summary <- draw_summary %>% filter(key %in% as.character(fixed_effects))
clean_names <- names(fixed_effects)[match(fixed_effects_summary$key,as.character(fixed_effects))]
fixed_effects_summary$key <- clean_names
clean_names <- names(variables)[match(fixed_effects_summary$key,as.character(variables))]
fixed_effects_summary$key <- clean_names
fixed_effects_summary$key <- factor(fixed_effects_summary$key,
levels=names(variables),
ordered = T)
fixed_plots <- quick_estimates_plot(fixed_effects_summary, title=paste0("Fixed Effects for Model ", model_name), sort=T)
ggsave(filename = paste0(base_path,"/fixed_effects_plots.png"),
plot = fixed_plots,width = 2500,height=3000,units = "px")
return(fixed_plots)
}
tva_plot <- fixed_effect_plot(model=model_tva,
model_name="TVA",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/tva/")
tva_plot <- tva_plot + labs(title="Random Intercept TVA Model\nRegression Coefficients")
tva_plot
tva_plot <- tva_plot + labs(title="Regression Coeffecients\n for Random Intercept TVA Model\nAfter Variable Selection")
ggsave("outputs/overall_model_results/variable_addition_final_fit/tva/random_intercept.png",tva_plot, width=1500, height=2000, units="px")
ggsave("outputs/overall_model_results/variable_addition_final_fit/tva/random_intercept.png",tva_plot, width=1200, height=1500, units="px")
ggsave("outputs/overall_model_results/variable_addition_final_fit/tva/random_intercept.png",tva_plot, width=1500, height=1500, units="px")
ggsave("outputs/overall_model_results/variable_addition_final_fit/tva/random_intercept.png",tva_plot, width=1800, height=1500, units="px")
model_hdds <- loadRData("./outputs/11_09_2023/outputs/overall_models/variable_addition_final_fit/hdds/hdds_13.rda")
model_hdds <- loadRData("./outputs/11_09_2023/outputs/overall_models/variable_addition_final_fit/hdds/hdds_13.rda")
hdds_plot <- fixed_effect_plot(model=model_hdds,
model_name="HDDS",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/hdds/")
hdds_plot <- hdds_plot + labs(title="Random Intercept TVA Model\nRegression Coefficients")
hdds_plot
model_tva <- loadRData("./outputs/11_09_2023/outputs/overall_models/variable_addition_final_fit/tva/tva_10.rda")
tva_plot <- fixed_effect_plot(model=model_tva,
model_name="TVA",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/tva/")
tva_plot <- tva_plot + labs(title="Regression Coeffecients\n for Random Intercept TVA Model\nAfter Variable Selection")
ggsave("outputs/overall_model_results/variable_addition_final_fit/tva/random_intercept.png",tva_plot, width=1800, height=1500, units="px")
model_hdds <- loadRData("./outputs/11_09_2023/outputs/overall_models/variable_addition_final_fit/hdds/hdds_12.rda")
hdds_plot <- fixed_effect_plot(model=model_hdds,
model_name="HDDS",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/hdds/")
hdds_plot <- hdds_plot + labs(title="Random Intercept TVA Model\nRegression Coefficients")
hdds_plot
ggsave("outputs/overall_model_results/variable_addition_final_fit/hdds/random_intercept.png",hdds_plot, width=1800, height=1500, units="px")
vars_all <- paste0("b_",as.character(variables))
vars_all <- c(vars_all, as.character(levels_variables))
draws_summary_tva <- as_draws_df(model_tva) %>% data.frame[vars_all]
draws_summary_tva <- as_draws_df(model_tva) %>% data.frame()[vars_all]
draws_summary_tva <- as_draws_df(model_tva) %>% data.frame()
draws_summary_tva
draws_summary_tva <- as_draws_df(model_tva) %>% as_tibble()
draws_summary_tva
draws_summary_tva <- draws_summary_tva[vars_all]
draws_summary_tva <- draws_summary_tva[vars_all[vars_all %in% colnames(draws_summary_tva)]]
draws_summary_tva
draws_summary_tva <- summarise_all(
Estimate = mean(., na.rm=T)
)
draws_summary_tva %>%  summarise_all(
Estimate = mean(., na.rm=T)
)
?summarise_all
draws_summary_tva %>%  summarise_all(
Estimate = mean(.x, na.rm=T)
)
draws_summary_tva
draws_summary_tva$draw <- c(1:nrow(draws_summary_tva))
?melt
?pivot_longer
draws_summary_tva %>% tidyr::pivot_longer(!draws,draws_summary_tva)
draws_summary_tva %>% tidyr::pivot_longer(!draws)
draws_summary_tva
draws_summary_tva$draws <- c(1:nrow(draws_summary_tva))
draws_summary_tva %>% tidyr::pivot_longer(!draws)
draws_summary_tva <- draws_summary_tva %>%  summarise_all(
Estimate = mean(.x, na.rm=T),
L95 = quantile(.x, probs=c(0.025),na.rm = T),
U95 = quantile(.x, probs=c(0.975),na.rm = T)
)
draws_summary_tva <- draws_summary_tva %>%  summarise_all(
Estimate = mean(., na.rm=T),
L95 = quantile(., probs=c(0.025),na.rm = T),
U95 = quantile(., probs=c(0.975),na.rm = T)
)
draws_summary_tva <- draws_summary_tva %>%
group_by(name) %>%
summarise(
Estimate = mean(name, na.rm=T),
L95 = quantile(name, probs=c(0.025),na.rm = T),
U95 = quantile(name, probs=c(0.975),na.rm = T)
)
draws_summary_tva <- draws_summary_tva %>% tidyr::pivot_longer(!draws)
draws_summary_tva
draws_summary_tva <- draws_summary_tva %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
draws_summary_tva
draws_summary_tva <- as_draws_df(model_tva) %>% as_tibble()
draws_summary_tva <- draws_summary_tva[vars_all[vars_all %in% colnames(draws_summary_tva)]]
draws_summary_tva$draws <- c(1:nrow(draws_summary_tva))
draws_summary_tva
draws_summary_tva <- draws_summary_tva %>% tidyr::pivot_longer(!draws)
draws_summary_tva <- draws_summary_tva %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
draws_summary_tva
draws_summary_hdds <- as_draws_df(model_hdds) %>% as_tibble()
draws_summary_hdds <- draws_summary_hdds[vars_all[vars_all %in% colnames(draws_summary_hdds)]]
draws_summary_hdds$draws <- c(1:nrow(draws_summary_hdds))
draws_summary_hdds <- draws_summary_hdds %>% tidyr::pivot_longer(!draws)
draws_summary_hdds <- draws_summary_hdds %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
draws_summary_hdds
hdds_plot <- fixed_effect_plot(model=model_hdds,
model_name="HDDS",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/hdds/")
hdds_plot <- hdds_plot + labs(title="Regression Coeffecients\n for Random Intercept HDDS Model\nAfter Variable Selection")
ggsave("outputs/overall_model_results/variable_addition_final_fit/hdds/random_intercept.png",hdds_plot, width=1800, height=1500, units="px")
draws_summary_tva <- as_draws_df(model_tva) %>% as_tibble()
draws_summary_tva <- draws_summary_tva[vars_all[vars_all %in% colnames(draws_summary_tva)]]
draws_summary_tva$draws <- c(1:nrow(draws_summary_tva))
draws_summary_tva <- draws_summary_tva %>% tidyr::pivot_longer(!draws)
draws_summary_tva <- draws_summary_tva %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
draws_summary_hdds <- as_draws_df(model_hdds) %>% as_tibble()
draws_summary_hdds <- draws_summary_hdds[vars_all[vars_all %in% colnames(draws_summary_hdds)]]
draws_summary_hdds$draws <- c(1:nrow(draws_summary_hdds))
draws_summary_hdds <- draws_summary_hdds %>% tidyr::pivot_longer(!draws)
draws_summary_hdds <- draws_summary_hdds %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
?rename
iris
draws_summary_hdds %>% rename(c(Estimate_hdds=Estimate))
iris
draws_summary_hdds %>% rename(c("Estimate_HDDS"="Estimate"))
draws_summary_tva <- draws_summary_tva %>% rename(c("Estimate_HDDS"="Estimate",
"L95_HDDS"="L95",
"U95_HDDS"="U95"))
draws_summary_tva
draws_summary_tva <- as_draws_df(model_tva) %>% as_tibble()
draws_summary_tva <- draws_summary_tva[vars_all[vars_all %in% colnames(draws_summary_tva)]]
draws_summary_tva$draws <- c(1:nrow(draws_summary_tva))
draws_summary_tva <- draws_summary_tva %>% tidyr::pivot_longer(!draws)
draws_summary_tva <- draws_summary_tva %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
draws_summary_tva <- draws_summary_tva %>% rename(c("Estimate_TVA"="Estimate",
"L95_TVA"="L95",
"U95_TVA"="U95"))
draws_summary_tva
draws_summary_hdds <- as_draws_df(model_hdds) %>% as_tibble()
draws_summary_hdds <- draws_summary_hdds[vars_all[vars_all %in% colnames(draws_summary_hdds)]]
draws_summary_hdds$draws <- c(1:nrow(draws_summary_hdds))
draws_summary_hdds <- draws_summary_hdds %>% tidyr::pivot_longer(!draws)
draws_summary_hdds <- draws_summary_hdds %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
draws_summary_hdds <- draws_summary_hdds %>% rename(c("Estimate_HDDS"="Estimate",
"L95_HDDS"="L95",
"U95_HDDS"="U95"))
draws_summary_all <- merge(draws_summary_tva, draws_summary_hdds, by = "name")
draws_summary_all
draws_summary_all <- merge(draws_summary_tva, draws_summary_hdds, by = "name", all.x = T,all.y = T)
draws_summary_all
levels_variables <- list(
"Country"="sd_iso_country_code__Intercept",
"Village"="sd_iso_country_code_village__Intercept",
"Project"="sd_id_form__Intercept",
"Unexplained"="sigma"
)
vars_all <- paste0("b_",as.character(variables))
vars_all <- c(vars_all, as.character(levels_variables))
draws_summary_tva <- as_draws_df(model_tva) %>% as_tibble()
draws_summary_tva <- draws_summary_tva[vars_all[vars_all %in% colnames(draws_summary_tva)]]
draws_summary_tva$draws <- c(1:nrow(draws_summary_tva))
draws_summary_tva <- draws_summary_tva %>% tidyr::pivot_longer(!draws)
draws_summary_tva <- draws_summary_tva %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
draws_summary_tva <- draws_summary_tva %>% rename(c("Estimate_TVA"="Estimate",
"L95_TVA"="L95",
"U95_TVA"="U95"))
draws_summary_hdds <- as_draws_df(model_hdds) %>% as_tibble()
draws_summary_hdds <- draws_summary_hdds[vars_all[vars_all %in% colnames(draws_summary_hdds)]]
draws_summary_hdds$draws <- c(1:nrow(draws_summary_hdds))
draws_summary_hdds <- draws_summary_hdds %>% tidyr::pivot_longer(!draws)
draws_summary_hdds <- draws_summary_hdds %>%
group_by(name) %>%
summarise(
Estimate = mean(value, na.rm=T),
L95 = quantile(value, probs=c(0.025),na.rm = T),
U95 = quantile(value, probs=c(0.975),na.rm = T)
)
draws_summary_hdds <- draws_summary_hdds %>% rename(c("Estimate_HDDS"="Estimate",
"L95_HDDS"="L95",
"U95_HDDS"="U95"))
draws_summary_all <- merge(draws_summary_tva, draws_summary_hdds, by = "name", all.x = T,all.y = T)
draws_summary_all
round(draws_summary_all[c("Estimate_TVA",
"L95_TVA",
"U95_TVA",
"Estimate_HDDS",
"L95_HDDS")])
round(draws_summary_all[c("Estimate_TVA",
"L95_TVA",
"U95_TVA",
"Estimate_HDDS",
"L95_HDDS")],2)
draws_summary_all[c("Estimate_TVA",
"L95_TVA",
"U95_TVA",
"Estimate_HDDS",
"L95_HDDS")] <- round(draws_summary_all[c("Estimate_TVA",
"L95_TVA",
"U95_TVA",
"Estimate_HDDS",
"L95_HDDS")],2)
write_csv(draws_summary_all,"./outputs/overall_model_results/variable_addition_final_fit/all_param_summary.csv")
draws_summary_all[c("Estimate_TVA",
"L95_TVA",
"U95_TVA",
"Estimate_HDDS",
"L95_HDDS",
"U95_HDDS")] <- round(draws_summary_all[c("Estimate_TVA",
"L95_TVA",
"U95_TVA",
"Estimate_HDDS",
"L95_HDDS",
"U95_HDDS")],2)
write_csv(draws_summary_all,"./outputs/overall_model_results/variable_addition_final_fit/all_param_summary.csv")
model_tva <- loadRData("./outputs/11_09_2023/outputs/overall_models/variable_addition_final_fit/tva/tva_10.rda")
tva_plot <- fixed_effect_plot(model=model_tva,
model_name="TVA",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/tva/")
tva_plot <- tva_plot +
labs(title="Regression Coeffecients\n for Random Intercept TVA Model\nAfter Variable Selection")+
xlim(-0.35,0.35)
ggsave("outputs/overall_model_results/variable_addition_final_fit/tva/random_intercept.png",tva_plot, width=1800, height=1500, units="px")
model_hdds <- loadRData("./outputs/11_09_2023/outputs/overall_models/variable_addition_final_fit/hdds/hdds_12.rda")
hdds_plot <- fixed_effect_plot(model=model_hdds,
model_name="HDDS",
variables=variables,
base_path="./outputs/overall_model_results/variable_addition_final_fit/hdds/")
hdds_plot <- hdds_plot +
labs(title="Regression Coeffecients\n for Random Intercept HDDS Model\nAfter Variable Selection")+
xlim(-0.35,0.35)
ggsave("outputs/overall_model_results/variable_addition_final_fit/hdds/random_intercept.png",hdds_plot, width=1800, height=1500, units="px")
hdds_loo_table <- loo_comparison_plot(base_input_path = "./outputs/11_09_2023/outputs/overall_models/variable_addition/hdds/",
base_output_path = "./outputs/overall_model_results/variable_addition/hdds/",
return_data = T
)
tva_loo_table <- loo_comparison_plot(base_input_path = "./outputs/11_09_2023/outputs/overall_models/variable_addition/tva/",
base_output_path = "./outputs/overall_model_results/variable_addition/tva/",
return_data = T
)
r2_comparison <- function(loo_order,
base_input_path,
base_output_path){
r2_files <- list.files(base_input_path) %>% grep("^r2",x=., value=T)
r2_all <- sapply(r2_files, function(x){
r2_temp <- loadRData(paste0(
base_input_path,
x
))
model_name <- gsub("r2_", "",x)
model_name <- gsub(".rda", "",model_name,fixed=T)
r2_temp <- as_tibble(r2_temp)
r2_temp$model_type <- model_name
return(r2_temp)
},simplify=F)
r2_all <- r2_all %>% bind_rows()
r2_all <- r2_all[order(r2_all$Estimate),]
r2_all$model_type <- factor(r2_all$model_type,
levels=loo_order,
ordered=T)
r2_all <- r2_all[order(r2_all$model_type),]
r_2_comparison <- ggplot(r2_all)+
geom_point(aes(x=model_type, y=Estimate))+
geom_path(aes(x=model_type, y=Estimate,),group=1, color="blue") +
geom_segment(aes(x = model_type,xend=model_type,y=Q2.5,yend=Q97.5))+
geom_hline(yintercept = max(r2_all$Estimate),linetype="dashed")+
# ylim(c(0.25,1))+
labs(title = bquote(~'Bayesian '~R^2 ),
x="Levels Included",
y=bquote('Bayesian '~R^2))+
theme(
plot.title = element_text(hjust=0.5),
axis.text.x = element_text(angle=45,hjust=1))
ggsave(paste0(base_output_path,"r2_summary.png"),r_2_comparison, width=1500,height=1500,units="px")
return(r2_all)
}
hdds_r2_table <-r2_comparison(loo_order = hdds_loo_table$model,
base_input_path = "./outputs/11_09_2023/outputs/overall_models/variable_addition/hdds/",
base_output_path = "./outputs/overall_model_results/variable_addition/hdds/")
tva_r2_table <-r2_comparison(tva_loo_table$model,
base_input_path = "./outputs/11_09_2023/outputs/overall_models/variable_addition/tva/",
base_output_path = "./outputs/overall_model_results/variable_addition/tva/")
tva_r2_table
53-37
hdds_r2_table
42-38
tva_r2_table
